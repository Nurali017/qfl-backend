"""add_all_sota_fields_to_stats_tables

Revision ID: 2e98f48bc279
Revises: 3a1140499c0d
Create Date: 2026-01-15 17:29:03.919764

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision: str = '2e98f48bc279'
down_revision: Union[str, None] = '3a1140499c0d'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    # Game player stats - new fields with server_default for existing rows
    op.add_column('game_player_stats', sa.Column('shots_on_goal', sa.Integer(), nullable=False, server_default='0'))
    op.add_column('game_player_stats', sa.Column('shots_off_goal', sa.Integer(), nullable=False, server_default='0'))
    op.add_column('game_player_stats', sa.Column('duel', sa.Integer(), nullable=False, server_default='0'))
    op.add_column('game_player_stats', sa.Column('tackle', sa.Integer(), nullable=False, server_default='0'))
    op.add_column('game_player_stats', sa.Column('corner', sa.Integer(), nullable=False, server_default='0'))
    op.add_column('game_player_stats', sa.Column('offside', sa.Integer(), nullable=False, server_default='0'))
    op.add_column('game_player_stats', sa.Column('foul', sa.Integer(), nullable=False, server_default='0'))
    op.create_index('ix_game_player_stats_goals', 'game_player_stats', ['goals'], unique=False)
    op.create_index('ix_game_player_stats_team_id', 'game_player_stats', ['team_id'], unique=False)
    op.add_column('game_team_stats', sa.Column('shots_off_goal', sa.Integer(), nullable=True))
    op.create_index('ix_game_team_stats_game_id', 'game_team_stats', ['game_id'], unique=False)
    op.create_index('ix_game_team_stats_team_id', 'game_team_stats', ['team_id'], unique=False)
    # Skip dropping existing indexes and changing games.time nullability
    op.add_column('player_season_stats', sa.Column('games_as_subst', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('games_be_subst', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('games_unused', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('goal_and_assist', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('goal_out_box', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('owngoal', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('penalty_success', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('shots_blocked_opponent', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('pass_acc', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('pass_forward', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('pass_forward_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('player_season_stats', sa.Column('pass_progressive', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('pass_cross', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('pass_cross_acc', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('pass_cross_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('player_season_stats', sa.Column('pass_cross_per_90', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('player_season_stats', sa.Column('pass_to_box', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('pass_to_box_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('player_season_stats', sa.Column('pass_to_3rd', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('pass_to_3rd_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('player_season_stats', sa.Column('aerial_duel', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('aerial_duel_success', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('ground_duel', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('ground_duel_success', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('tackle', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('tackle_per_90', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('player_season_stats', sa.Column('interception', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('recovery', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('dribble', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('dribble_success', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('dribble_per_90', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('player_season_stats', sa.Column('corner', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('offside', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('foul', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('foul_taken', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('second_yellow_cards', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('goals_conceded', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('goals_conceded_penalty', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('goals_conceeded_per_90', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('player_season_stats', sa.Column('save_shot', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('save_shot_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('player_season_stats', sa.Column('saved_shot_per_90', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('player_season_stats', sa.Column('save_shot_penalty', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('save_shot_penalty_success', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('dry_match', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('exit', sa.Integer(), nullable=True))
    op.add_column('player_season_stats', sa.Column('exit_success', sa.Integer(), nullable=True))
    op.create_index('ix_player_season_stats_assists', 'player_season_stats', ['assists'], unique=False)
    op.create_index('ix_player_season_stats_goals', 'player_season_stats', ['goals'], unique=False)
    op.create_index('ix_player_season_stats_minutes', 'player_season_stats', ['minutes_played'], unique=False)
    # Skip dropping player_teams indexes
    op.add_column('team_season_stats', sa.Column('games_total', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('goals_difference', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('xg', sa.Numeric(precision=6, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('xg_per_match', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('opponent_xg', sa.Numeric(precision=6, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('shots_on_goal_per_match', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('shots_off_goal', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('shot_per_90', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('shot_per_match', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('shot_to_goal', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('goal_to_shot_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('shots_against_penalty', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_per_match', sa.Numeric(precision=6, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_forward', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_forward_per_match', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_forward_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_long', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_long_per_match', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_long_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_progressive', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_progressive_per_match', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_cross', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_cross_per_match', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_cross_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_to_box', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_to_box_per_match', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_to_box_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_to_3rd', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_to_3rd_acc', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_to_3rd_per_match', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('pass_to_3rd_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('key_pass', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('key_pass_per_match', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('key_pass_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('goal_pass', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('freekick_pass', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('freekick_pass_per_match', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('freekick_shot', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('freekick_shot_per_match', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('duel', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('duel_per_match', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('duel_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('aerial_duel_offence', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('aerial_duel_offence_per_match', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('aerial_duel_offence_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('aerial_duel_defence', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('aerial_duel_defence_per_match', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('aerial_duel_defence_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('ground_duel_offence', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('ground_duel_offence_per_match', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('ground_duel_offence_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('ground_duel_defence', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('ground_duel_defence_per_match', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('ground_duel_defence_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('tackle', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('tackle_per_match', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('tackle1_1', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('tackle1_1_per_match', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('tackle1_1_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('interception', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('interception_per_match', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('recovery', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('recovery_per_match', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('dribble', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('dribble_per_match', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('dribble_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('penalty', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('penalty_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('save_penalty_ratio', sa.Numeric(precision=5, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('foul_taken', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('second_yellow_cards', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('corner_per_match', sa.Numeric(precision=4, scale=2), nullable=True))
    op.add_column('team_season_stats', sa.Column('out', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('visitor_total', sa.Integer(), nullable=True))
    op.add_column('team_season_stats', sa.Column('average_visitors', sa.Numeric(precision=8, scale=2), nullable=True))
    op.create_index('ix_team_season_stats_goals_scored', 'team_season_stats', ['goals_scored'], unique=False)
    op.create_index('ix_team_season_stats_points', 'team_season_stats', ['points'], unique=False)
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index('ix_team_season_stats_points', table_name='team_season_stats')
    op.drop_index('ix_team_season_stats_goals_scored', table_name='team_season_stats')
    op.drop_column('team_season_stats', 'average_visitors')
    op.drop_column('team_season_stats', 'visitor_total')
    op.drop_column('team_season_stats', 'out')
    op.drop_column('team_season_stats', 'corner_per_match')
    op.drop_column('team_season_stats', 'second_yellow_cards')
    op.drop_column('team_season_stats', 'foul_taken')
    op.drop_column('team_season_stats', 'save_penalty_ratio')
    op.drop_column('team_season_stats', 'penalty_ratio')
    op.drop_column('team_season_stats', 'penalty')
    op.drop_column('team_season_stats', 'dribble_ratio')
    op.drop_column('team_season_stats', 'dribble_per_match')
    op.drop_column('team_season_stats', 'dribble')
    op.drop_column('team_season_stats', 'recovery_per_match')
    op.drop_column('team_season_stats', 'recovery')
    op.drop_column('team_season_stats', 'interception_per_match')
    op.drop_column('team_season_stats', 'interception')
    op.drop_column('team_season_stats', 'tackle1_1_ratio')
    op.drop_column('team_season_stats', 'tackle1_1_per_match')
    op.drop_column('team_season_stats', 'tackle1_1')
    op.drop_column('team_season_stats', 'tackle_per_match')
    op.drop_column('team_season_stats', 'tackle')
    op.drop_column('team_season_stats', 'ground_duel_defence_ratio')
    op.drop_column('team_season_stats', 'ground_duel_defence_per_match')
    op.drop_column('team_season_stats', 'ground_duel_defence')
    op.drop_column('team_season_stats', 'ground_duel_offence_ratio')
    op.drop_column('team_season_stats', 'ground_duel_offence_per_match')
    op.drop_column('team_season_stats', 'ground_duel_offence')
    op.drop_column('team_season_stats', 'aerial_duel_defence_ratio')
    op.drop_column('team_season_stats', 'aerial_duel_defence_per_match')
    op.drop_column('team_season_stats', 'aerial_duel_defence')
    op.drop_column('team_season_stats', 'aerial_duel_offence_ratio')
    op.drop_column('team_season_stats', 'aerial_duel_offence_per_match')
    op.drop_column('team_season_stats', 'aerial_duel_offence')
    op.drop_column('team_season_stats', 'duel_ratio')
    op.drop_column('team_season_stats', 'duel_per_match')
    op.drop_column('team_season_stats', 'duel')
    op.drop_column('team_season_stats', 'freekick_shot_per_match')
    op.drop_column('team_season_stats', 'freekick_shot')
    op.drop_column('team_season_stats', 'freekick_pass_per_match')
    op.drop_column('team_season_stats', 'freekick_pass')
    op.drop_column('team_season_stats', 'goal_pass')
    op.drop_column('team_season_stats', 'key_pass_ratio')
    op.drop_column('team_season_stats', 'key_pass_per_match')
    op.drop_column('team_season_stats', 'key_pass')
    op.drop_column('team_season_stats', 'pass_to_3rd_ratio')
    op.drop_column('team_season_stats', 'pass_to_3rd_per_match')
    op.drop_column('team_season_stats', 'pass_to_3rd_acc')
    op.drop_column('team_season_stats', 'pass_to_3rd')
    op.drop_column('team_season_stats', 'pass_to_box_ratio')
    op.drop_column('team_season_stats', 'pass_to_box_per_match')
    op.drop_column('team_season_stats', 'pass_to_box')
    op.drop_column('team_season_stats', 'pass_cross_ratio')
    op.drop_column('team_season_stats', 'pass_cross_per_match')
    op.drop_column('team_season_stats', 'pass_cross')
    op.drop_column('team_season_stats', 'pass_progressive_per_match')
    op.drop_column('team_season_stats', 'pass_progressive')
    op.drop_column('team_season_stats', 'pass_long_ratio')
    op.drop_column('team_season_stats', 'pass_long_per_match')
    op.drop_column('team_season_stats', 'pass_long')
    op.drop_column('team_season_stats', 'pass_forward_ratio')
    op.drop_column('team_season_stats', 'pass_forward_per_match')
    op.drop_column('team_season_stats', 'pass_forward')
    op.drop_column('team_season_stats', 'pass_per_match')
    op.drop_column('team_season_stats', 'shots_against_penalty')
    op.drop_column('team_season_stats', 'goal_to_shot_ratio')
    op.drop_column('team_season_stats', 'shot_to_goal')
    op.drop_column('team_season_stats', 'shot_per_match')
    op.drop_column('team_season_stats', 'shot_per_90')
    op.drop_column('team_season_stats', 'shots_off_goal')
    op.drop_column('team_season_stats', 'shots_on_goal_per_match')
    op.drop_column('team_season_stats', 'opponent_xg')
    op.drop_column('team_season_stats', 'xg_per_match')
    op.drop_column('team_season_stats', 'xg')
    op.drop_column('team_season_stats', 'goals_difference')
    op.drop_column('team_season_stats', 'games_total')
    # Skip player_teams index recreation - they already exist
    op.drop_index('ix_player_season_stats_minutes', table_name='player_season_stats')
    op.drop_index('ix_player_season_stats_goals', table_name='player_season_stats')
    op.drop_index('ix_player_season_stats_assists', table_name='player_season_stats')
    op.drop_column('player_season_stats', 'exit_success')
    op.drop_column('player_season_stats', 'exit')
    op.drop_column('player_season_stats', 'dry_match')
    op.drop_column('player_season_stats', 'save_shot_penalty_success')
    op.drop_column('player_season_stats', 'save_shot_penalty')
    op.drop_column('player_season_stats', 'saved_shot_per_90')
    op.drop_column('player_season_stats', 'save_shot_ratio')
    op.drop_column('player_season_stats', 'save_shot')
    op.drop_column('player_season_stats', 'goals_conceeded_per_90')
    op.drop_column('player_season_stats', 'goals_conceded_penalty')
    op.drop_column('player_season_stats', 'goals_conceded')
    op.drop_column('player_season_stats', 'second_yellow_cards')
    op.drop_column('player_season_stats', 'foul_taken')
    op.drop_column('player_season_stats', 'foul')
    op.drop_column('player_season_stats', 'offside')
    op.drop_column('player_season_stats', 'corner')
    op.drop_column('player_season_stats', 'dribble_per_90')
    op.drop_column('player_season_stats', 'dribble_success')
    op.drop_column('player_season_stats', 'dribble')
    op.drop_column('player_season_stats', 'recovery')
    op.drop_column('player_season_stats', 'interception')
    op.drop_column('player_season_stats', 'tackle_per_90')
    op.drop_column('player_season_stats', 'tackle')
    op.drop_column('player_season_stats', 'ground_duel_success')
    op.drop_column('player_season_stats', 'ground_duel')
    op.drop_column('player_season_stats', 'aerial_duel_success')
    op.drop_column('player_season_stats', 'aerial_duel')
    op.drop_column('player_season_stats', 'pass_to_3rd_ratio')
    op.drop_column('player_season_stats', 'pass_to_3rd')
    op.drop_column('player_season_stats', 'pass_to_box_ratio')
    op.drop_column('player_season_stats', 'pass_to_box')
    op.drop_column('player_season_stats', 'pass_cross_per_90')
    op.drop_column('player_season_stats', 'pass_cross_ratio')
    op.drop_column('player_season_stats', 'pass_cross_acc')
    op.drop_column('player_season_stats', 'pass_cross')
    op.drop_column('player_season_stats', 'pass_progressive')
    op.drop_column('player_season_stats', 'pass_forward_ratio')
    op.drop_column('player_season_stats', 'pass_forward')
    op.drop_column('player_season_stats', 'pass_acc')
    op.drop_column('player_season_stats', 'shots_blocked_opponent')
    op.drop_column('player_season_stats', 'penalty_success')
    op.drop_column('player_season_stats', 'owngoal')
    op.drop_column('player_season_stats', 'goal_out_box')
    op.drop_column('player_season_stats', 'goal_and_assist')
    op.drop_column('player_season_stats', 'games_unused')
    op.drop_column('player_season_stats', 'games_be_subst')
    op.drop_column('player_season_stats', 'games_as_subst')
    # Skip recreating other indexes - they already exist
    op.drop_index('ix_game_team_stats_team_id', table_name='game_team_stats')
    op.drop_index('ix_game_team_stats_game_id', table_name='game_team_stats')
    op.drop_column('game_team_stats', 'shots_off_goal')
    op.drop_index('ix_game_player_stats_team_id', table_name='game_player_stats')
    op.drop_index('ix_game_player_stats_goals', table_name='game_player_stats')
    op.drop_column('game_player_stats', 'foul')
    op.drop_column('game_player_stats', 'offside')
    op.drop_column('game_player_stats', 'corner')
    op.drop_column('game_player_stats', 'tackle')
    op.drop_column('game_player_stats', 'duel')
    op.drop_column('game_player_stats', 'shots_off_goal')
    op.drop_column('game_player_stats', 'shots_on_goal')
    # ### end Alembic commands ###
